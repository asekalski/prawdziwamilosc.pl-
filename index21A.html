<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empathic Success - Empower Empaths Unite</title>
    <meta name="description" content="A sanctuary for Lightworkers, Starseeds, Empaths, and Truth Seekers to unite and empower one another.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- (Styles omitted for brevity, same as your original file) -->
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <a href="#" class="logo">prawdziwamilosc.pl</a>
        <div class="nav-menu">
            <a href="#manifesto" class="nav-link">Manifesto</a>
            <a href="#categories" class="nav-link">Categories</a>
            <a href="#stories" class="nav-link">Stories</a>
            <a href="#team" class="nav-link">Team</a>
            <a href="#news" class="nav-link">News</a>
        </div>
        <button class="menu-toggle">‚ò∞</button>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-gradient"></div>
        <div class="orb-container">
            <div class="orb"></div>
            <div class="orb-glow"></div>
        </div>
        <div class="hero-content">
            <h1 class="hero-title">Empower Empaths: The New Leaders Are Rising</h1>
            <p class="hero-subtitle">Join the awakening community of Lightworkers, Starseeds, Empaths and Truth Seekers, united to empower themselves and each other.</p>
            <div class="hero-buttons">
                <a href="#" class="btn btn-primary">Sign up for Empathic Newsletter</a>
            </div>
        </div>
    </section>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
        <div class="scroll-arrow"></div>
    </div>

    <!-- Manifesto Section -->
    <section id="manifesto" class="section manifesto">
        <div class="section-header">
            <div class="section-label">Our Manifesto</div>
            <h2 class="section-title">We Believe in the Power of Empathy</h2>
            <p class="section-description">This is a sanctuary for Lightworkers, Starseeds, Group7 members, Scapegoats, and Empaths to unite. In a world searching for healing, we build bonds of authenticity, trust, and spiritual growth. The time for empaths is now. Together, we rise.</p>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="section categories">
        <div class="section-header">
            <div class="section-label">Our Values</div>
            <h2 class="section-title">What Matters Most</h2>
        </div>
        <div class="categories-grid">
            <div class="category-card">
                <div class="category-icon">üí¨</div>
                <h3 class="category-title">Authentic Communication</h3>
                <p class="category-description">Honest conversations are the foundation of deep connections. We foster openness and truth in every interaction.</p>
            </div>
            <div class="category-card">
                <div class="category-icon">ü§ù</div>
                <h3 class="category-title">Trust and Openness</h3>
                <p class="category-description">Relationships rooted in trust and respect endure. We cultivate safe spaces to nurture these bonds.</p>
            </div>
            <div class="category-card">
                <div class="category-icon">üå±</div>
                <h3 class="category-title">Spiritual Growth</h3>
                <p class="category-description">Together we evolve, supporting each other‚Äôs journey toward empowerment and healing.</p>
            </div>
        </div>
    </section>

    <!-- Success Stories Section -->
    <section id="stories" class="section success-stories">
        <div class="section-header">
            <div class="section-label">Success Stories</div>
            <h2 class="section-title">Empathic Connections that Transformed Lives</h2>
            <p class="section-description">Real stories from those who found their tribe and activated their true power here.</p>
        </div>
        <div class="stories-container">
            <div class="stories-slider">
                <div class="story-card">
                    <div class="story-avatar">K&amp;M</div>
                    <p class="story-quote">"We found ourselves here‚Äîauthenticity pays off! We never imagined real love online was possible."</p>
                    <div class="story-name">Kasia &amp; Micha≈Ç</div>
                </div>
                <div class="story-card">
                    <div class="story-avatar">A&amp;T</div>
                    <p class="story-quote">"This place is a true community rooted in empathy. We felt safe from the very first conversation."</p>
                    <div class="story-name">Ania &amp; Tomek</div>
                </div>
                <div class="story-card">
                    <div class="story-avatar">J&amp;B</div>
                    <p class="story-quote">"Thanks to this portal, we discovered true love. Today we plan our future together and couldn‚Äôt be happier."</p>
                    <div class="story-name">Joanna &amp; Bartek</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="section team">
        <div class="section-header">
            <div class="section-label">Our Team</div>
            <h2 class="section-title">The Hearts Behind This Movement</h2>
            <p class="section-description">Passionate souls dedicated to fostering authentic, empathic relationships every day.</p>
        </div>
        <div class="team-grid">
            <div class="team-member">
                <div class="team-avatar">AN</div>
                <h3 class="team-name">Anna Nowak</h3>
                <p class="team-role">Founder & Visionary</p>
            </div>
            <div class="team-member">
                <div class="team-avatar">PZ</div>
                <h3 class="team-name">Piotr Zieli≈Ñski</h3>
                <p class="team-role">Tech & Support</p>
            </div>
            <div class="team-member">
                <div class="team-avatar">JK</div>
                <h3 class="team-name">Julia Kowalska</h3>
                <p class="team-role">Community Facilitator</p>
            </div>
        </div>
    </section>

    <!-- News Section -->
    <section id="news" class="section news">
        <div class="section-header">
            <div class="section-label">News</div>
            <h2 class="section-title">What‚Äôs New in Our Empathic Community</h2>
        </div>
        <div class="news-list">
            <div class="news-item">
                <div class="news-date">November 1, 2025</div>
                <h3 class="news-title">New Feature: Online Gatherings</h3>
            </div>
            <div class="news-item">
                <div class="news-date">October 20, 2025</div>
                <h3 class="news-title">Webinar on Building Trust in Relationships</h3>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">prawdziwamilosc.pl</div>
            <div class="footer-links">
                <a href="#" class="footer-link">Terms of Service</a>
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Contact</a>
                <a href="#" class="footer-link">About Us</a>
            </div>
            <div class="footer-copyright">¬© 2025 prawdziwamilosc.pl ‚Äì All rights reserved.</div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="app.js"></script>

    <!-- Sticky Heart (ultra slow initial rotation) -->
    <div id="heart-sticky">
        <div id="heart-fallback">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="heartGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ff6b9d;stop-opacity:0.9" />
                        <stop offset="50%" style="stop-color:#bc6ff1;stop-opacity:0.95" />
                        <stop offset="100%" style="stop-color:#6485ee;stop-opacity:0.9" />
                    </linearGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                        <feMerge>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                <path d="M50,90 C20,70 10,50 10,35 C10,20 20,10 30,10 C40,10 45,15 50,25 C55,15 60,10 70,10 C80,10 90,20 90,35 C90,50 80,70 50,90 Z" 
                      fill="url(#heartGradient)" 
                      stroke="rgba(255,107,157,0.4)" 
                      stroke-width="0.5"
                      filter="url(#glow)"/>
            </svg>
        </div>
    </div>

    <!-- Three.js -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.js"></script>
    <script>
        // ===== ULTRA SLOW INITIAL SPEED + GOOD FRICTION =====
        let scene, camera, renderer, heartModel;
        let currentRotation = 0;
        let velocity = 0;
        let scrollVelocity = 0;
        let lastScrollY = 0;
        let scrollPercent = 0;
        let use3D = false;
        const glbUrl = './heart_compressed.glb';

        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        console.log('üîç Device:', isIOS ? 'iOS' : (isMobile ? 'Mobile' : 'Desktop'));

        function checkWebGL() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                return gl ? true : false;
            } catch (e) {
                return false;
            }
        }

        // 2D Fallback
        function use2DFallback() {
            console.log('üé® 2D fallback');
            const fallback = document.getElementById('heart-fallback');
            if (!fallback) return;

            fallback.style.display = 'block';

            let rotation2D = 0;
            let velocity2D = 0;
            let lastScroll2D = 0;
            let scrollPct2D = 0;

            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                const delta = currentScroll - lastScroll2D;

                // ULTRA WOLNA poczƒÖtkowa prƒôdko≈õƒá
                velocity2D += delta * 0.003; // By≈Ço 0.008
                lastScroll2D = currentScroll;

                const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
                scrollPct2D = Math.min(currentScroll / maxScroll, 1);
            }, { passive: true });

            function animate2D() {
                // Dobry friction z index20
                velocity2D *= 0.97;
                rotation2D += velocity2D;

                const scaleValue = 1.0 - (scrollPct2D * 0.7);
                const pulse = 1 + Math.sin(Date.now() * 0.0012) * 0.03;
                const finalScale = scaleValue * pulse;

                fallback.style.transform = `rotate(${rotation2D}deg) scale(${finalScale})`;
                requestAnimationFrame(animate2D);
            }
            animate2D();
        }

        // 3D Init
        async function init3D() {
            if (!checkWebGL()) {
                use2DFallback();
                return;
            }

            try {
                const container = document.getElementById('heart-sticky');
                const canvas = document.createElement('canvas');
                canvas.id = 'heart-3d-canvas';
                container.insertBefore(canvas, container.firstChild);

                const width = window.innerWidth;
                const height = window.innerHeight;

                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
                camera.position.z = 4.2;

                renderer = new THREE.WebGLRenderer({
                    canvas: canvas,
                    antialias: !isMobile,
                    alpha: true,
                    powerPreference: isMobile ? 'low-power' : 'high-performance',
                    failIfMajorPerformanceCaveat: false,
                    precision: 'mediump'
                });

                renderer.setClearColor(0x000000, 0);
                renderer.setSize(width, height);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, isMobile ? 1.5 : 2));

                scene.add(new THREE.AmbientLight(0xffffff, 1.4));
                const light = new THREE.PointLight(0xbc6ff1, 2, 130);
                light.position.set(12, 20, 12);
                scene.add(light);

                const response = await fetch(glbUrl);
                if (!response.ok) throw new Error('Fetch failed');

                const arrayBuffer = await response.arrayBuffer();

                const dracoLoader = new THREE.DRACOLoader();
                dracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');
                dracoLoader.preload();

                const loader = new THREE.GLTFLoader();
                loader.setDRACOLoader(dracoLoader);

                await new Promise((resolve, reject) => {
                    const timeout = setTimeout(() => reject(new Error('Timeout')), 15000);

                    loader.parse(arrayBuffer, '', (gltf) => {
                        clearTimeout(timeout);
                        heartModel = gltf.scene;

                        const box = new THREE.Box3().setFromObject(heartModel);
                        const center = box.getCenter(new THREE.Vector3());
                        const size = box.getSize(new THREE.Vector3());

                        heartModel.position.sub(center);
                        const baseScale = 4.5 / Math.max(size.x, size.y, size.z);
                        heartModel.scale.multiplyScalar(baseScale);

                        if (isMobile) {
                            heartModel.traverse((child) => {
                                if (child.isMesh && child.material) {
                                    child.material.flatShading = true;
                                }
                            });
                        }

                        scene.add(heartModel);
                        use3D = true;
                        resolve();
                    }, reject);
                });

                window.addEventListener('resize', () => {
                    const w = window.innerWidth;
                    const h = window.innerHeight;
                    camera.aspect = w / h;
                    camera.updateProjectionMatrix();
                    renderer.setSize(w, h);
                });

                window.addEventListener('scroll', () => {
                    const currentScrollY = window.pageYOffset;
                    const delta = currentScrollY - lastScrollY;

                    // ULTRA WOLNA poczƒÖtkowa prƒôdko≈õƒá! (10x wolniej ni≈º index20)
                    scrollVelocity += delta * 0.000005; // By≈Ço 0.00005
                    lastScrollY = currentScrollY;

                    const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
                    scrollPercent = Math.min(currentScrollY / maxScroll, 1);
                }, { passive: true });

                animate3D();

            } catch (error) {
                console.error('‚ùå 3D failed:', error.message);
                if (renderer) {
                    renderer.dispose();
                    const canvas = document.getElementById('heart-3d-canvas');
                    if (canvas) canvas.remove();
                }
                use2DFallback();
            }
        }

        function animate3D() {
            requestAnimationFrame(animate3D);
            if (!heartModel || !renderer || !use3D) return;

            try {
                // Dobry friction z index20 (zachowany)
                scrollVelocity *= 0.97; // 3% friction - OK!
                velocity += scrollVelocity;
                velocity *= 0.98; // 2% damping - OK!

                currentRotation += velocity;
                heartModel.rotation.y = currentRotation;

                const scrollScale = 1.0 - (scrollPercent * 0.7);
                const pulse = 1 + Math.sin(Date.now() * 0.0013) * 0.03;
                const finalScale = 4.5 * scrollScale * pulse;
                heartModel.scale.set(finalScale, finalScale, finalScale);

                renderer.render(scene, camera);
            } catch (e) {
                console.error('‚ùå Render error:', e);
                use3D = false;
                use2DFallback();
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init3D);
        } else {
            init3D();
        }
    </script>

    <script src="app.js"></script>
</body>
</html>