<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reverse Parallax GSAP</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            font-family: 'Arial', sans-serif;
        }

        /* Kontener dla tła - musi być 'fixed' lub zajmować cały ekran */
        .parallax-bg {
            position: fixed;
            top: -10%; /* Zaczynamy wyżej, żeby mieć z czego "zjeżdżać" w dół */
            left: 0;
            width: 100%;
            height: 120%; /* Większa wysokość niż ekran, bo będziemy tym ruszać */
            background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            z-index: -1; /* Ważne: tło pod spodem */
            will-change: transform; /* Optymalizacja wydajności */
        }

        /* Kontener treści */
        .content-wrapper {
            position: relative;
            z-index: 1;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 100vh; /* Pierwszy widok czysty, treść zaczyna się niżej */
        }

        /* Przykładowe sekcje treści */
        .section {
            width: 80%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.9);
            margin-bottom: 20vh;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 { color: #333; }
        p { line-height: 1.6; color: #555; }
        
        .spacer { height: 50vh; } 
    </style>
</head>
<body>

    <!-- ELEMENT TŁA (To on będzie animowany) -->
    <div class="parallax-bg"></div>

    <!-- TREŚĆ STRONY -->
    <div class="content-wrapper">
        <div class="section">
            <h1>Sekcja 1</h1>
            <p>Gdy przewijasz w dół, tło za mną również przesuwa się w dół (w przeciwną stronę niż naturalny ruch treści), tworząc głęboki efekt paralaksy.</p>
        </div>
        
        <div class="section">
            <h1>Sekcja 2</h1>
            <p>Dzięki GSAP ScrollTrigger efekt jest idealnie płynny (scrub: true). Zwróć uwagę, że zdjęcie w tle nie "ucieka" do góry tak szybko jak tekst.</p>
        </div>

        <div class="section">
            <h1>Sekcja 3</h1>
            <p>To daje wrażenie, że tło jest bardzo daleko za treścią.</p>
        </div>
        
        <div class="spacer"></div>
    </div>

    <!-- Import GSAP i ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
        // Rejestracja wtyczki
        gsap.registerPlugin(ScrollTrigger);

        // Animacja Reverse Parallax
        gsap.to(".parallax-bg", {
            yPercent: 20, // Przesuń tło w dół o 20% jego wysokości
            ease: "none", // Liniowy ruch bez przyspieszeń
            scrollTrigger: {
                trigger: "body", // Cała strona jest wyzwalaczem
                start: "top top", // Startuj od samej góry
                end: "bottom bottom", // Kończ na samym dole
                scrub: 1 // Płynność z lekkim opóźnieniem (możesz dać 'true' dla natychmiastowej reakcji)
            }
        });
    </script>

</body>
</html>
