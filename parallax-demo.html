<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallax Scroll Demo - Ultra Smooth</title>
    <style>
        /* ... poprzednie style ... */
        /* Kod CSS zostaje taki sam, pomijam dla skrócenia */
    </style>
    <!-- LottieFiles CDN -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>
<body>
    <div class="parallax-container">
        <!-- Dodatkowa warstwa Lottie Krajobraz - Jeśli Lottie JSON dostępny -->
        <lottie-player class="parallax-layer" style="z-index:4" data-speed="0.32" src="https://assets6.lottiefiles.com/packages/lf20_iqelxm7p.json" background="transparent" speed="1" loop autoplay></lottie-player>
        <div class="parallax-layer layer-stars" data-speed="0.2"></div>
        <div class="parallax-layer layer-1" data-speed="0.5"></div>
        <div class="parallax-layer layer-2" data-speed="0.8"></div>
        <div class="parallax-layer layer-3" data-speed="1.2"></div>
    </div>
    <div class="content-wrapper">
        <!-- ... sekcje jak wcześniej ... -->
    </div>
    <script>
        // Ultra smooth parallax with friction damping
        class UltraSmoothParallax {
            constructor() {
                this.layers = document.querySelectorAll('.parallax-layer');
                this.current = 0;
                this.velocity = 0;
                this.target = 0;
                this.friction = 0.93; // Friction/damping factor, closer to 1 = dłuższe wytracanie
                this.spring = 0.03;  // siła sprężyny
                window.addEventListener('scroll', ()=>{
                    this.target = window.pageYOffset;
                });
                this.animate();
            }
            animate() {
                // Równanie z wytracaniem prędkości
                let distance = this.target - this.current;
                this.velocity += distance * this.spring;
                this.velocity *= this.friction;
                this.current += this.velocity;
                this.layers.forEach(layer => {
                    const speed = parseFloat(layer.dataset.speed) || 1;
                    const y = -(this.current * speed);
                    layer.style.transform = `translate3d(0, ${y}px,0)`;
                });
                requestAnimationFrame(()=>this.animate());
            }
        }
        // ... StarField jak wcześniej ...
        document.addEventListener('DOMContentLoaded', () => {
            new UltraSmoothParallax();
            new StarField();
        });
        // Scroll indicator jak wcześniej
    </script>
</body>
</html>